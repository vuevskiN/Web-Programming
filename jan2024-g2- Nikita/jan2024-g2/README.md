# Испитна задача

Потребно е да развиете апликација која ќе овозможува преглед и креирање на објави. 
Секоја објава има одредена содржина, како и тагови (ознаки) за полесно пребарување.

## Функционални барања

- **(15 поени)** Потребно е на патеките `/` и `/posts` да прикажете листа од сите креирани објави со користење на темплејтот `list.html`.
  - Имплементацијата на оваа функционалност може да ја проверите со тестот `test_list_15pt`.

- **(20 поени)** Потребно е да се имплементира додавање на објави. При клик на копчето **Add new post** од темплејтот `list.html`, потребно е да се прикаже темплејтот `form.html` на патеката `/posts/add`, каде при клик на **Submit** ќе се креира и запише нова објава во базата на податоци. Потоа треба да се прикаже страната `/posts`.
  - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_create_10pt` и `test_create_mvc_10pt`.

- **(10 поени)** Потребно е да се имплементира бришење на објави. При клик на копчето **Delete** од темплејтот `list.html`, потребно е да се избрише соодветната објава од базата на податоци. Потоа треба да се прикаже страната `/posts`.
  - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_delete_5pt` и `test_delete_mvc_5pt`.

- **(20 поени)** Потребно е да се имплементира промена на информации за објавата. При клик на копчето **Edit** од темплејтот `list.html`, потребно е да се прикаже темплејтот `form.html` на патеката `/posts/edit/[id]`, при што во `<input>` елементите ќе се прикажат вредностите за објавата кој се променува. При клик на **Submit** треба да се запише промената на објавата во базата на податоци. Потоа треба да се прикаже страната `/posts`.
  - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_edit_10pt` и `test_edit_mvc_10pt`.

- **(5 поени)** Потребно е да се имплементира лајкнување на соодветна објава. При клик на копчето **Like** од темплејтот `list.html`, потребно е да се зголеми бројот на лајкови на објавата за 1. Потоа треба да се прикаже страната `/posts`.
  - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_vote_3pt` и `test_vote_mvc_2pt`.

- **(20 поени)** Потребно е да конфигурирате најава на `/login` и одјава на `/logout`. Притоа, јавни се патеките `/` и `/posts`, `/like` треба да е достапно само за корисник со улога user, додека сите останати страници треба да се видливи само за корисник со улога admin. Дополнително, кај `list.html` копчињата **Edit**, **Delete** и **Add new Post** треба да се видливи само за корисник кој има улога admin, додека пак копчето **Like** треба да е видливо само за најавен корисник со улога на user.
  - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_security_urls_10pt`, `test_security_buttons_10pt`.

- **(10 поени)** Потребно е да овозможите пребарување на објави кои содржат одреден таг и се од одреден тип преку формата со `id="filter-form"` во темплејтот `list.html`. Резултатите од пребарувањето треба да се прикажат на истата страница, при што ќе се прикажат само објавите кои го содржат избраниот таг и се од селектираниот тип. Филтрирањето се извршува само според внесените полиња (ако се празни, се игнорира филтрирањето по тој критериум).
  - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_filter_5pt` и `test_filter_service_5pt`.

**ВАЖНО:** Сите споменати тестови се наоѓаат во класата `SeleniumScenarioTest`.

## Поставување на решението
Тестовите мора задолжително да ги извршите, затоа што на тој начин го испраќате вашето решение за прегледување. За проверка дали успешно е поставено вашето решение пристепете на патеката [env4health.finki.ukim.mk/submit/[index]](http://env4health.finki.ukim.mk/submit/index),
каде наместо `[index]` ќе го наведете вашиот индекс, кој претходно ќе го поставите во `TODO` вредноста на текстот.

Тие ќе ви помогнат да ја проверите точноста на вашата имплементација, но и ќе испратат информации до нашиот сервер за тоа до каде функционира вашата апликација. Ќе се гледа кодот само на студентите кај кои барем една проверка (`ExamAssert`) ќе помине успешно.

**НЕ Е ДОЗВОЛЕНО МЕНУВАЊЕ НА ТЕСТОВИТЕ, НИТУ БИЛО КОЈ ДЕЛ ОД `test` ПАКЕТОТ, освен внесување на вашиот индекс!!!**

**ЗАДОЛЖИТЕЛНО ВНЕСЕТЕ ГО ВАШИОТ ИНДЕКС НА СООДВЕТНОТО МЕСТО ОЗНАЧЕНО СО `TODO` ВО КЛАСАТА `SeleniumScenarioTest`!!!**

## Техничко упатство:
- Во пакетот `mk.ukim.finki.wp.jan2024g2.model` веќе се креирани класите кои го репрезентираат моделот.
  Потребно е да извршите нивно мапирање со соодветните JPA анотации за моделот успешно да се сними во базата на податоци.
  Притоа важат следните услови:
  - Една објава има повеќе тагови, додека пак една таг може да се користи во повеќе објави.
  - Идентификаторите за `Post` и `Tag` треба да бидат генерирани.
- Во пакетот `mk.ukim.finki.wp.exam.jan2024g2.service` се веќе дефинирани интерфејсите за сервисната логика.
  За секој од методите имате опис што треба да биде имплементирано. Потребно е да се имплементираат овие интерфејси во соодветните класи во пакетот `mk.ukim.finki.wp.exam.jan2024g2.service.impl`. Во коментарите на методите се објаснети
  дополнителни услови (доколку ги има) кои треба да ги исполни методот.
- Класите од пакетот `mk.ukim.finki.wp.exam.jan2024g2.repository` треба да ги дополните со потребните методи кои ви се потребни за да ја овозможите функционалноста на имплементацијата на сервисниот слој. Тие треба да се изведат од класата `JpaRepository` од Spring Data.
- Потребно е да ја анотирате класата `DataInitializer` и нејзините соодветни методи, така што при стартување на апликацијата ќе се изврши методот `initData`.
- Во класата `mk.ukim.finki.wp.exam.jan2024g2.PostsController` се дефинирани сите методи кои се потребни.
  За секој од методите имате опис што треба да биде имплементирано. Потребно е овие handler методи да ги мапирате со користење само на HTTP GET и POST барања.
- Дополнете ги темплејтите со соодветните **Thymeleaf** атрибути за да се постигнат бараните функционалности.
  Притоа, ако недостасуваат одредени елементи и атрибути, може да ги додадете, но **НЕ СМЕЕ** да ги менувате `id` и `class` својствата на тековните елементи.
  Во коментари се дадени описи за елементите кои треба да се повторуваат, како и кои методи од контролерот треба да се повикаат.
- Потребно е да конфигурирате најава и одјава на корисници со Spring Security во класата `SecurityConfig`.
  Во самата класа има опис што треба да биде имплементирано.